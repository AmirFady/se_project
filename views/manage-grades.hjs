<!DOCTYPE html>
<html>
  <head>
    <title>Users</title>
    <link rel='stylesheet' href='/styles/bootstrap.min.css' />
    <link rel='stylesheet' href='/styles/style.css' />
    <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  </head>
  <body>
       <script>

       $(document).ready(function(){
        $("#update").click(function() {
          console.log("clicked");
         const gradeElement = document.getElementsByName("grade");
         const data = [];
         for ( const gradeElements in gradeElement) {
          grade = gradeElement.values();
          userId = gradeElement.ID();
          data.push({"userId": userId, "grade": grade})
          }
         const url = "/api/v1/enrollment/" + String(courseId);
         console.log(data);
         $.ajax({
          type: "GET",
          url: url,
          success: function(serverResponse){
            if(serverResponse) {
              alert(JSON.stringify(serverResponse));
            }
          }
        });
        });
        });

        $("#update").click(function() {
        const grade = $('#update').val();
        const data = {
          grade,
        };

        $.ajax({
          type: "PUT",
          url: url,
          success: function(serverResponse){
            if(serverResponse) {
              alert(JSON.stringify(serverResponse));
            }
          }
        });
        });
    </script>

    <div>
    <div>

        <nav class="navbar navbar-inverse" style="padding-left:130px;">
          <ul class="nav navbar-nav">
            <li><a href="/dashboard">Home</a></li>
            <li><a href="/manage/grades">Manage Grades</a></li>
            <li><a href="/manage/courses">Manage Courses</a></li>
            <li><a href="/manage/transfers">Manage Requests</a></li>
            <li><a href="/">Logout</a></li>
          </ul>
       </nav>
  </div>
    <br/>
      <table class="table">
        <thead>
      </div>
          <tr>
            <th scope="col">student id</th>
            <th scope="col">student Name</th>
            <th scope="col">grade</th>
          </tr>
          {{#enrollment}}
            <tr>
              <td>{{userId}}</td>
              <td>{{firstName}}</td>
              <td><input type="text" class="form-control" id="{{userId}}" name="grade" placeholder="grade" value="{{grade}}"></td>
            </tr>
          {{/enrollment}}
          <input id="update" name="update" type="button" value="update" class="btn btn-primary">
        </thead>
      </table>
    </div>
  </body>
  </html>